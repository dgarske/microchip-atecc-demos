@@ -137,74 +137,61 @@
 #define WOLFMQTT_USER_SETTINGS
 // #define WOLFMQTT_NO_TIMEOUT
 // #define WOLFMQTT_NO_STDIN_CAP
-
 #define WOLFMQTT_DISCONNECT_CB
-#define WOLFMQTT_NO_ERROR_STRINGS
-#define WOLFMQTT_NO_STDIO
-
 #define ENABLE_MQTT_TLS
 
-/*** wolMQTT Net Glue configuration ***/
-#define WMQTT_NET_GLUE_FORCE_TLS			true
-#define WMQTT_NET_GLUE_IPV6					false
-#define WMQTT_NET_GLUE_MAX_BROKER_NAME		64
-#define WMQTT_NET_GLUE_DEBUG_ENABLE			false
-#define WMQTT_NET_GLUE_ERROR_STRINGS		true
-#define WMQTT_NET_GLUE_MALLOC				malloc
-#define WMQTT_NET_GLUE_FREE					free
-#define WMQTT_NET_SKT_TX_BUFF				2048
-#define WMQTT_NET_SKT_RX_BUFF				2048
-
-
-
+//#define WOLFMQTT_DEBUG_CLIENT
+//#define WOLFMQTT_DEBUG_SOCKET
+//#define WOLFMQTT_NO_ERROR_STRINGS
+//#define WOLFMQTT_NO_STDIO
 
 
 /******************************************************************************/
 /*wolfSSL TLS Layer Configuration*/
 /******************************************************************************/
 
+#if 0 /* disabled to save code space */
 #define WOLFSSL_ALT_NAMES
 #define WOLFSSL_DER_LOAD
 #define KEEP_OUR_CERT
 #define KEEP_PEER_CERT
 #define HAVE_CRL_IO
 #define HAVE_IO_TIMEOUT
+#endif
 #define TFM_NO_ASM
 #define WOLFSSL_NO_ASM
 #define SIZEOF_LONG_LONG 8
 #define WOLFSSL_USER_IO
 #define NO_WRITEV
-#define MICROCHIP_TCPIP
-
-    
-    
+//#define MICROCHIP_TCPIP
 
 #define NO_PWDBASED
 
 #define HAVE_TLS_EXTENSIONS
 #define HAVE_SUPPORTED_CURVES
 #define HAVE_SNI
-
-    
+#define HAVE_EXTENDED_MASTER    
+#define HAVE_ENCRYPT_THEN_MAC
 
 #define NO_SESSION_CACHE
 
-#define WOLFSSL_SMALL_STACK
-     
-    
-    
-    
-    
+//#define DEBUG_WOLFSSL
+//#define NO_ERROR_STRINGS
 
-    
 #define NO_OLD_TLS
     
 #define USE_FAST_MATH
     
 #define NO_WOLFSSL_SERVER
-    
-    
-   
+#define HAVE_PK_CALLBACKS
+#define WOLFSSL_ATECC608A
+#define WOLFSSL_ATECC_TNGTLS
+#define WOLFSSL_BASE64_ENCODE
+
+#define WOLFSSL_SMALL_STACK
+#define WOLFSSL_SMALL_STACK_CACHE /* reduce heap thrash with SHA256 */
+#define WOLFSSL_ALT_CERT_CHAINS /* allow just the peer certificate to verify - not all intermediates */
+#define WOLFSSL_VERIFY_CB_ALL_CERTS /* Issue callback for all intermediate certificates */
 
 
 /*** wolfCrypt Library Configuration ***/
@@ -248,10 +235,22 @@
 #define WC_RSA_BLINDING
 #define SINGLE_THREADED
 #define NO_SIG_WRAPPER
-#define NO_ERROR_STRINGS
 #define NO_WOLFSSL_MEMORY
 
-
+#define FP_MAX_BITS (384 * 2) /* max ECC key size * 2 */
+
+#if 0
+/* Disable certificate date checking for testing */
+#define NO_ASN_TIME
+#else
+/* Override Current Time */
+/* Allows custom "custom_time()" function to be used for benchmark */
+#define WOLFSSL_USER_CURRTIME
+#define WOLFSSL_GMTIME
+#define USER_TICKS
+extern unsigned long my_time(unsigned long* timer);
+#define XTIME my_time
+#endif
 
 // *****************************************************************************
 // *****************************************************************************
